import{x as S,u as y,a as h,y as d}from"./web.C5iZSFJ7.js";import{r as g,c as I}from"./store.C8Impj8V.js";function O(t,o={}){const s=o.storage||globalThis.localStorage,n=o.name||`storage-${S()}`;if(!s)return[t[0],t[1],null];const a=o.storageOptions,l=o.serialize||JSON.stringify.bind(JSON),m=o.deserialize||JSON.parse.bind(JSON),c=s.getItem(n,a),u=typeof t[0]=="function"?r=>{try{const e=m(r);t[1](()=>e)}catch{}}:r=>{try{const e=m(r);t[1](g(e))}catch{}};let i=!0;if(c instanceof Promise?c.then(r=>i&&r&&u(r)):c&&u(c),typeof o.sync?.[0]=="function"){const r=typeof t[0]=="function"?t[0]:()=>t[0];o.sync[0](e=>{e.key!==n||(e.url||globalThis.location.href)!==globalThis.location.href||e.newValue===l(y(r))||u(e.newValue)})}return[t[0],typeof t[0]=="function"?r=>{const e=t[1](r),f=r!=null?l(e):r;return o.sync?.[1](n,f),f!=null?s.setItem(n,f,a):s.removeItem(n,a),i=!1,e}:(...r)=>{t[1](...r);const e=l(y(()=>t[0]));o.sync?.[1](n,e),s.setItem(n,e,a),i=!1},c]}const b=I({colorScheme:null,pickedReadme:null,anagramsServerUrl:null,anagramsRoomListUrl:null}),p=O(b,{storage:localStorage,name:"solid-store"});function J(){const[t,o]=h(!1);return d(()=>{o(!0)}),t}export{p as l,J as u};
