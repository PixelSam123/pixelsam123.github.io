import{z as S,u as y}from"./web.BpFg5q7N.js";import{r as h,c as d}from"./store.e1vvCjbr.js";function g(r,o={}){const n=o.storage||globalThis.localStorage,c=o.name||`storage-${S()}`;if(!n)return[r[0],r[1],null];const l=o.storageOptions,a=o.serialize||JSON.stringify.bind(JSON),m=o.deserialize||JSON.parse.bind(JSON),s=n.getItem(c,l),u=typeof r[0]=="function"?t=>{try{const e=m(t);r[1](()=>e)}catch{}}:t=>{try{const e=m(t);r[1](h(e))}catch{}};let i=!0;if(s instanceof Promise?s.then(t=>i&&t&&u(t)):s&&u(s),typeof o.sync?.[0]=="function"){const t=typeof r[0]=="function"?r[0]:()=>r[0];o.sync[0](e=>{e.key!==c||(e.url||globalThis.location.href)!==globalThis.location.href||e.newValue===a(y(t))||u(e.newValue)})}return[r[0],typeof r[0]=="function"?t=>{const e=r[1](t),f=t!=null?a(e):t;return o.sync?.[1](c,f),f!=null?n.setItem(c,f,l):n.removeItem(c,l),i=!1,e}:(...t)=>{r[1](...t);const e=a(y(()=>r[0]));o.sync?.[1](c,e),n.setItem(c,e,l),i=!1},s]}const z=d({colorScheme:null,pickedReadme:null,anagramsServerUrl:null,anagramsRoomListUrl:null}),b=g(z,{storage:localStorage,name:"solid-store"});export{b as l};
