import{v as S,u as y,a as h,w as d}from"./web.6pwwYm-K.js";import{r as g,c as I}from"./store.BwMCcvjn.js";function O(t,o={}){const c=o.storage||globalThis.localStorage,n=o.name||`storage-${S()}`;if(!c)return[t[0],t[1],null];const a=o.storageOptions,l=o.serialize||JSON.stringify.bind(JSON),m=o.deserialize||JSON.parse.bind(JSON),s=c.getItem(n,a),u=typeof t[0]=="function"?r=>{try{const e=m(r);t[1](()=>e)}catch{}}:r=>{try{const e=m(r);t[1](g(e))}catch{}};let i=!0;if(s instanceof Promise?s.then(r=>i&&r&&u(r)):s&&u(s),typeof o.sync?.[0]=="function"){const r=typeof t[0]=="function"?t[0]:()=>t[0];o.sync[0](e=>{e.key!==n||(e.url||globalThis.location.href)!==globalThis.location.href||e.newValue===l(y(r))||u(e.newValue)})}return[t[0],typeof t[0]=="function"?r=>{const e=t[1](r),f=r!=null?l(e):r;return o.sync?.[1](n,f),f!=null?c.setItem(n,f,a):c.removeItem(n,a),i=!1,e}:(...r)=>{t[1](...r);const e=l(y(()=>t[0]));o.sync?.[1](n,e),c.setItem(n,e,a),i=!1},s]}const b=I({colorScheme:null,pickedReadme:null,anagramsServerUrl:null}),p=O(b,{storage:localStorage,name:"solid-store"});function v(){const[t,o]=h(!1);return d(()=>{o(!0)}),t}export{p as l,v as u};
